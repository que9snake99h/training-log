<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>å¥åº·ãƒ­ã‚°</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 400px;
      margin: auto;
      padding: 16px;
    }
    button {
      padding: 8px 12px;
      margin: 4px;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>

<h2>å¥åº·ãƒ­ã‚°</h2>

<label>
  æ—¥ä»˜<br>
  <input type="date" id="date">
</label>

<br><br>

<label>
  ä½“é‡ï¼ˆkgï¼‰<br>
  <input type="number" id="weight" step="0.1">
</label>

<br><br>

<button onclick="showTraining()">ğŸ‹ ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°</button>
<button onclick="showStretch()">ğŸ§˜ ã‚¹ãƒˆãƒ¬ãƒƒãƒ</button>

<hr>

<div id="training" class="hidden">
  <h3>ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°</h3>
  <label><input type="radio" name="trainingDone" value="yes"> ã‚„ã£ãŸ</label>
  <label><input type="radio" name="trainingDone" value="no"> ã‚„ã‚‰ãªã‹ã£ãŸ</label>
  <br><br>
  å›æ•°<br>
  <input type="number" id="trainingCount">
</div>

<div id="stretch" class="hidden">
  <h3>ã‚¹ãƒˆãƒ¬ãƒƒãƒ</h3>
  <label><input type="radio" name="stretchDone" value="yes"> ã—ãŸ</label>
  <label><input type="radio" name="stretchDone" value="no"> ã—ãªã‹ã£ãŸ</label>
</div>

<br>
<button onclick="save()">ä¿å­˜</button>

<script>
  let mode = "";

  function showTraining() {
    mode = "training";
    document.getElementById("training").classList.remove("hidden");
    document.getElementById("stretch").classList.add("hidden");
  }

  function showStretch() {
    mode = "stretch";
    document.getElementById("stretch").classList.remove("hidden");
    document.getElementById("training").classList.add("hidden");
  }

  function save() {
    const date = dateInput.value;
    const weight = weightInput.value;

    if (!date || !weight || !mode) {
      alert("æ—¥ä»˜ãƒ»ä½“é‡ãƒ»ç¨®åˆ¥ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
      return;
    }

    const record = { date, weight, mode };

    if (mode === "training") {
      record.done = document.querySelector('input[name="trainingDone"]:checked')?.value;
      record.count = trainingCount.value;
    } else {
      record.done = document.querySelector('input[name="stretchDone"]:checked')?.value;
    }

    const data = JSON.parse(localStorage.getItem("health") || "[]");
    data.push(record);
    localStorage.setItem("health", JSON.stringify(data));

    alert("ä¿å­˜ã—ã¾ã—ãŸ");
  }

  const dateInput = document.getElementById("date");
  const weightInput = document.getElementById("weight");
  const trainingCount = document.getElementById("trainingCount");
</script>

</body>
</html>
